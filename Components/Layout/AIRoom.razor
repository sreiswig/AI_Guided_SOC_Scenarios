@* AIRoom.razor *@
<div class="ai-room">
    <h2>AI Learning Room</h2>
    <div class="chat-box">
        @foreach (var message in messages)
        {
            <div class="chat-message @(message.IsUser ? "user-message" : "ai-message")">
                @message.Text
            </div>
        }
    </div>
    <div class="chat-input">
        <input type="text" @bind="userInput" @onkeypress="CheckEnter" placeholder="Type your message..." />
        <button @onclick="SendMessage">Send</button>
    </div>
</div>

@code {
    private string userInput;
    private List<ChatMessage> messages = new List<ChatMessage>();

    private async Task SendMessage()
    {
        if (!string.IsNullOrWhiteSpace(userInput))
        {
            messages.Add(new ChatMessage { Text = userInput, IsUser = true });
            var aiResponse = await GetAIResponse(userInput);
            messages.Add(new ChatMessage { Text = aiResponse, IsUser = false });
            userInput = string.Empty;
        }
    }

    private async Task<string> GetAIResponse(string input)
    {
        // Call your AI service here and return the response
        return "AI response to: " + input;
    }

    private void CheckEnter(KeyboardEventArgs e)
    {
        if (e.Key == "Enter")
        {
            SendMessage();
        }
    }

    private class ChatMessage
    {
        public string Text { get; set; }
        public bool IsUser { get; set; }
    }
}

